noise and distortion
    [[diagram]]
    - long conductors act like receiving antennas for electrical noise emitted by motors, switches, or other devices
    - the signals get distorted by this noise

    noise compensation
        [[diagram]]
        - for digital systems used over medium/short distances

    data transfer over long distances
        [[diagram]]
        - bit serial transmission is almost always used over 10m
        - balanced circuitry is used to send transmissions

    balanced line transmission
        [[diagram]]
        - the signal is sent over two wires simutaneously
            -> the original signal and its inverse
        - the signals are subtracted at the receiver by a summing amplifier, producing a stronger signal, and as a result any induced noise is cancelled out
        - really only used for ethernets in LAN
        - maximum distance it'll work is about 100m copper

        data transfer over even longer distances
            [[diagram]]
            - special devices called modems (MODulator/DEModulator) connect to a computer system and use analog signals as carriers to send digital signals over long distances
            
guided transmission data - mediums
    twisted pair
        [[diagram]]
        e.g. category 3 utp (cat3) - 16MHz bandwidth, category 6 utp (cat6) - 250MHz
            -> utp: unshielded twisted pair
        differences in categories is the number of twists per pair, and thickness of cable
        rj45 connector on a cat5
            8 cables inside (4 pairs)
            orange + orange-white, green + green-white, blue + blue-white, brown + brown-white
            only two pairs are in use at a time (one pair uplink, one pair downlink)
            gives full duplex (benefit over wifi)
        rj11 on phone lines (a little smaller)

        cat5e - cat5 enhanced, the main standard today
            -> about 100 MHz bandwidth
        cat5 ftp - foil-shielded twisted pair
        cat5swa - steel-wired armour

    coaxial cable
        [[diagram]]
        historically used for tv antennas
        better shielded than twisted pair
        copper core, and can span over longer distances at higher speeds
            -> higher bandwidth than cat5, up to 1GHz
        50 ohms for digital transmission and 75 ohms for analog available

    fibre optics
        // NEVER LOOK DOWN A FIBRE CABLE //
        [[diagram]]
        - diagram: three examples of a light ray from inside a silica fibre impinging on the air/silica boundary at different angles
        - light trapped by total internal reflection

        - capable of up to 50 terabits per second, essentially no bandwidth limitations
        - however, the circuitry (the light sources and decoders available) simply can't keep up
        - generally, fibre transceivers today run between 10 and 100 Gbps
            -> 100 is often 4x25 at different wavelengths
        - much higher distances possible
        - raw materials more readibly available (sand is cheaper than copper)
        - size: a fibre cable can be as small as 9 microns in diameter

        // TODO: look up fibre splicing

        transmission of light through fibre
            [[diagram]]
            the attenuation of light through glass depends on the wavelength used (the colour of a light) and the physical properties of the glass
            attenuation is measured in dB/km
            three wavelength bands are used for communication, centred on 0.85 microns, 1.3 microns, and 1.55 microns
                these correspond to dips in the attenuation curve of light
                // note: visible light is about 0.4 - 0.7 microns
            as the ray travels down the fibre, chromatic dispersion occurs (the wavelength spreads out) 
            by making pulses of a certain shape, called solitons, nearlyy all of this dispersion can be cancelled out
            can actually use multiple wavelengths in the same fibre, essentially multiplexing, done with passive optic couplers

        multimode fibre
            can use many different rays at different angles of incidence
            multimode patch leads (cables) are usually orange or blue
        single mode fibre
            the diameter of the fibre is reduced, allowing the light to only propagate (travel) in an essentially straight line
            patch leads are yellow
            more common now, given that its distance is usually measured in tens or hundreds of kilometers

        anatomy of a fibre cable
            [[diagram]]
            - two types of glass have different refractive indices, allowing for constant total internal reflection in the internal core
            - not unusual to have a cable with 24 to 48 cores that are the same size as or even smaller than a cat5 cable


        l.e.d.s vs semiconductor lasers as light sources
            off the shelf transceivers use l.e.d.s, even the campus would use them

                                        l.e.d.      |   semiconductors
            data rate:                  low         |   high
            fibre type:                 multimode   |   multimode or single mode
            distance:                   short       |   long
            lifetime:                   long        |   short
            temperature sensitivity:    minor       |   substantial
            cost:                       low         |   expensive


        fibre optics networks:
            [[diagram]]
            - pretty much always built in a ring structure for redundancy reasons
            - usually human error, but one reason that equipment might fail is literally a speck of dust


wireless transmission
    the electromagnetic spectrum
        the number of ocsillations of a wave per second is its frequency, and the distance between any two maxima or two minima is the wavelength, lambda
        in a vaccuum, all electromagnetic waves travel at the same speed, about 3x10^8 m/s
        in copper, it's about 2x10^8 m/s

        the formula that links wavelength, frequency, and speed of a wave in a medium is $\lambda * f = c$

        the frequency of wifi is usually either 2.4, 5, or 6 GHz (there are a couple bands), which corresponds to 0.125 m of a wavelength

        [[diagram]]
        the spectrum itself and its uses for communication
        x-rays and above are known as ionising radiation
        wifi is actually a microwave signal, and uses a very low power over a very wide spectrum, however it runs at the same frequency as a microwave oven

        common frequency bands
            - elf = extremely low frequency
            - vf = voice frequency
            - vlf = very low frequency
            - lf = low frequency
            - mf = medium frequency
            - hf = high frequency
            - vhf = very high frequency
            - uhf = ultra high frequency
            - shf = super high frequency
            - ehf = extremely high frequency


    radio transmission
        [[diagram]]
        - in the vlf, lf, and mf bands, radio waves follow the curvature of the earth
        - in the hf bands, they bounce off the ionosphere (not often used for datacomms)

    microwave transmission
        above 1000MHz these travel in a straight line
        repeaters are necessary if two communication points are too far apart (basically line-of-sight)
        microwaves don't pass through solid walls very well
        multipath fading problem
            -> the signals can cancel each other out or go out of phase due to reflections in a small area
            -> happens over water especially, and depends on tides
        over 5GHz, absorption by water
        widely used for long-distance broadcasting, has led to a shortage of bandwidth

    infrared and millimeter waves
        widely used in short range communication
        directional and easy to build
        can't pass through solid objects
        no license needed to operate

    politics of the electromagnetic spectrum
        [[diagram]]
        - ism bands: industrial, scientific, and medial
        - these are licensed differently

    communication satellites
        [[diagram]]
        geostationary, medium-earth, and low-earth orbits
        geo only needs 3 satellites to cover the entire planet

        the principal satellite bands
            [[diagram]]
            -> rain is only an issue above 5GHz, generally, although heavy snowfall can cause problems
            -> Ku is pronounced 'q'

        vsats using a hub
            [[diagram]]
            -> very small aperture terminals

        middle earth orbit satellites
            not hobbits
            must be tracked as they move through the sky
            less powerful transmitters needed to reach them
            not usually used for communication
            used for gps - transmitting a very accurate time pulse at frequent intervals, and using the time difference to determine local positioning

        low earth orbit
            massive number in comparison needed for coverage
            ground stations don't need much power, and the round trip delay is only a few seconds

            example: iridium
                [[diagram]]
            
            used in remote areas, or areas with failing/nonexxistent infrastructure

modulation
    due to attenuation - and other problems - digital (square) waves cannot be used over long distances
    AC signalling is used instead
        a continuous tone, called a sine wave carrier, at around 1000~2000 Hz is introduced
    its amplitude, frequency, and phase can be modulated to transmit information

    amplitude modulation
        two different amplitudes are used to represent 1 or 0
    frequency modulation
        (or frequency shift keying)
    phase shifting
        the carrier wave is shifted 0 or 180 degrees at bit intervals to show a transition
        basically you have a 1 phase and a 0 phase, and switch between them as necessary
        a better scheme is to use intervals of 45, 135, 225, and 315, to transmit 2 bits at a time
            -> duo-binary phase-shift keying scheme

    [[diagram]]
    - amplitude: the presence or absence of a signal is the packet
    - phase shift: no change means signal stays the same through the interval

    modems
        a phone line has a band of 3000Hz, so no point sampling faster than 6000 times per second (nyquist)
        in practice most lines sample more bits at a time, at around 2400 times per second
        the number of samples per second is measured in bauds
        during one baud, one symbol is sent (remember, not only 1 or 0, could have more combinations)


        baud rate: samples per second
        bit rate: symbols/sec * bits/symbol

        trellis/constellation diagrams
            [[diagram]]
            - qpsk: quadrature phase shift keying
                four phases are used, a symbol can encode two bits
            - qam-16: quadrature amplitude modulation
                four amplitudes, four phases, can encode 4 bits per symbol
            - qam-64
                64 combinations, so 6 bits per symbol

            gets ridiculous on some systems, even qam-2048, but this is rarely feasible
            
            // wifi dynamically chooses which to use based on the snr ratio

            with many points in the constellation diagram, even a small amount of noise can cause errors
            tcm - trellis coded modulation - is used, where beside the data, parity checking is employed

dsl
    [[diagram]]
    this diagram shows on a telephone line (of reasonable quality) the data rate that you can expect


    vdsl
        very-high-speed dsl
        over 30 MBps
        requires a really close cabinet (the receiver)
        uses fttc technology (fibre to the cabinet), which is a fibre optic drop near the home, and everyone's phone line runs to a vdsl modem at the cabinet